[config]

# Documentation for this use case can be found at
# https://metplus.readthedocs.io/en/latest/generated/model_applications/precipitation/EnsembleStat_fcstWOFS_obsWOFS.html

# For additional information, please see the METplus Users Guide.
# https://metplus.readthedocs.io/en/latest/Users_Guide

###
# Processes to run
# https://metplus.readthedocs.io/en/latest/Users_Guide/systemconfiguration.html#process-list
###

PROCESS_LIST = PcpCombine, EnsembleStat, GenEnsProd, GridStat


###
# Time Info
# LOOP_BY options are INIT, VALID, RETRO, and REALTIME
# If set to INIT or RETRO:
#   INIT_TIME_FMT, INIT_BEG, INIT_END, and INIT_INCREMENT must also be set
# If set to VALID or REALTIME:
#   VALID_TIME_FMT, VALID_BEG, VALID_END, and VALID_INCREMENT must also be set
# LEAD_SEQ is the list of forecast leads to process
# https://metplus.readthedocs.io/en/latest/Users_Guide/systemconfiguration.html#timing-control
###

LOOP_BY = INIT
INIT_TIME_FMT = %Y%m%d%H%M
INIT_BEG = 202006151700
INIT_END = 202006151700
INIT_INCREMENT = 3600

LEAD_SEQ = 1

LOOP_ORDER = times


###
# File I/O
# https://metplus.readthedocs.io/en/latest/Users_Guide/systemconfiguration.html#directory-and-filename-template-info
###

# PCPCombine

FCST_PCP_COMBINE_INPUT_DIR = {INPUT_BASE}/model_applications/precipitation/WOFS/ensemble
FCST_PCP_COMBINE_INPUT_TEMPLATE = {init?fmt=%Y%m%d?shift=-44100}/{init?fmt=%H%M}/ENS_MEM_{custom?fmt=%s}

FCST_PCP_COMBINE_OUTPUT_DIR = {OUTPUT_BASE}/{MODEL}/pcp_combine
FCST_PCP_COMBINE_OUTPUT_TEMPLATE = {init?fmt=%Y%m%d?shift=-44100}/{init?fmt=%H%M}/ENS_MEM_{custom?fmt=%s}/wofs{custom?fmt=%s}_PCP_{init?fmt=%Y%m%d}_{init?fmt=%H%M}_{valid?fmt=%H%M}_A1.nc

# GenEnsProd

GEN_ENS_PROD_INPUT_DIR = {FCST_PCP_COMBINE_OUTPUT_DIR}
GEN_ENS_PROD_INPUT_TEMPLATE = {init?fmt=%Y%m%d?shift=-44100}/{init?fmt=%H%M}/ENS_MEM_??/wofs??_PCP_{init?fmt=%Y%m%d}_{init?fmt=%H%M}_{valid?fmt=%H%M}_A1.nc

GEN_ENS_PROD_OUTPUT_DIR = {OUTPUT_BASE}/{MODEL}/ensemble_stat
GEN_ENS_PROD_OUTPUT_TEMPLATE = {init?fmt=%Y%m%d?shift=-44100}/{init?fmt=%H%M}/ensemble_stat_{MODEL}_PCP_{init?fmt=%H%M}_{lead?fmt=%H%M}00L_A1_{init?fmt=%Y%m%d}_{valid?fmt=%H%M}00V_ens.nc

# EnsembleStat

FCST_ENSEMBLE_STAT_INPUT_DIR = {FCST_PCP_COMBINE_OUTPUT_DIR}
FCST_ENSEMBLE_STAT_INPUT_TEMPLATE = {init?fmt=%Y%m%d?shift=-44100}/{init?fmt=%H%M}/ENS_MEM_??/wofs??_PCP_{init?fmt=%Y%m%d}_{init?fmt=%H%M}_{valid?fmt=%H%M}_A1.nc

OBS_ENSEMBLE_STAT_GRID_INPUT_DIR = {INPUT_BASE}/model_applications/precipitation/WOFS/OBS
OBS_ENSEMBLE_STAT_GRID_INPUT_TEMPLATE = {init?fmt=%Y%m%d?shift=-44100}/{init?fmt=%H%M}/mrms_PCP_{init?fmt=%Y%m%d}_{init?fmt=%H%M}_{valid?fmt=%H%M}_A1.nc

ENSEMBLE_STAT_OUTPUT_DIR = {OUTPUT_BASE}/{MODEL}/ensemble_stat
ENSEMBLE_STAT_OUTPUT_TEMPLATE = {init?fmt=%Y%m%d?shift=-44100}/{init?fmt=%H%M}

# GridStat

FCST_GRID_STAT_INPUT_DIR = {GEN_ENS_PROD_OUTPUT_DIR}
FCST_GRID_STAT_INPUT_TEMPLATE = {GEN_ENS_PROD_OUTPUT_TEMPLATE}

OBS_GRID_STAT_INPUT_DIR = {OBS_ENSEMBLE_STAT_GRID_INPUT_DIR}
OBS_GRID_STAT_INPUT_TEMPLATE = {init?fmt=%Y%m%d?shift=-44100}/{init?fmt=%H%M}/mrms_PCP_{init?fmt=%Y%m%d}_{init?fmt=%H%M}_{valid?fmt=%H%M}_A1.nc

GRID_STAT_VERIFICATION_MASK_TEMPLATE = {INPUT_BASE}/model_applications/precipitation/WOFS/domain/WOFS_domain_{init?fmt=%Y%m%d}.nc

GRID_STAT_OUTPUT_DIR = {OUTPUT_BASE}/{MODEL}/grid_stat
GRID_STAT_OUTPUT_TEMPLATE = {init?fmt=%Y%m%d?shift=-44100}/{init?fmt=%H%M}/


###
# Field Info
# https://metplus.readthedocs.io/en/latest/Users_Guide/systemconfiguration.html#field-info
###

MODEL= WOFS
OBTYPE = MRMS_QPE


# GenEnsProd

ENS_VAR1_NAME = APCP_01
ENS_VAR1_LEVELS = "(*,*)"
ENS_VAR1_THRESH = >=12.7, >=25.4, >=50.8


# EnsembleStat

FCST_ENSEMBLE_STAT_VAR1_NAME = APCP_01
FCST_ENSEMBLE_STAT_VAR1_LEVELS = "(*,*)"
FCST_ENSEMBLE_STAT_VAR1_THRESH = >=12.7, >=25.4, >=50.8

OBS_ENSEMBLE_STAT_VAR1_NAME = GaugeCorrQPE01H_01
OBS_ENSEMBLE_STAT_VAR1_LEVELS = "(*,*)"
OBS_ENSEMBLE_STAT_VAR1_THRESH = {FCST_ENSEMBLE_STAT_VAR1_THRESH}


# GridStat

FCST_GRID_STAT_VAR1_NAME = APCP_01_A1_ENS_NMEP_ge12.7_NBRHD1_NEAREST1
FCST_GRID_STAT_VAR1_LEVELS = "(*,*)"
FCST_GRID_STAT_VAR1_OPTIONS = prob = TRUE
FCST_GRID_STAT_VAR1_THRESH = >=0.0, >=0.05, >=0.15, >=0.25, >=0.35, >=0.45, >=0.55, >=0.65, >=0.75, >=0.85, >=0.95, >=1.0
#
FCST_GRID_STAT_VAR2_NAME = APCP_01_A1_ENS_NMEP_ge25.4_NBRHD1_NEAREST1
FCST_GRID_STAT_VAR2_LEVELS = {FCST_GRID_STAT_VAR1_LEVELS}
FCST_GRID_STAT_VAR2_OPTIONS = {FCST_GRID_STAT_VAR1_OPTIONS}
FCST_GRID_STAT_VAR2_THRESH = {FCST_GRID_STAT_VAR1_THRESH}

FCST_GRID_STAT_VAR3_NAME = APCP_01_A1_ENS_NMEP_ge50.8_NBRHD1_NEAREST1
FCST_GRID_STAT_VAR3_LEVELS = {FCST_GRID_STAT_VAR1_LEVELS}
FCST_GRID_STAT_VAR3_OPTIONS = {FCST_GRID_STAT_VAR1_OPTIONS}
FCST_GRID_STAT_VAR3_THRESH = {FCST_GRID_STAT_VAR1_THRESH}

FCST_GRID_STAT_VAR4_NAME = APCP_01_A1_ENS_NMEP_ge12.7_NBRHD25_NEAREST1
FCST_GRID_STAT_VAR4_LEVELS = {FCST_GRID_STAT_VAR1_LEVELS}
FCST_GRID_STAT_VAR4_OPTIONS = {FCST_GRID_STAT_VAR1_OPTIONS}
FCST_GRID_STAT_VAR4_THRESH = {FCST_GRID_STAT_VAR1_THRESH}

FCST_GRID_STAT_VAR5_NAME = APCP_01_A1_ENS_NMEP_ge25.4_NBRHD25_NEAREST1
FCST_GRID_STAT_VAR5_LEVELS = {FCST_GRID_STAT_VAR1_LEVELS}
FCST_GRID_STAT_VAR5_OPTIONS = {FCST_GRID_STAT_VAR1_OPTIONS}
FCST_GRID_STAT_VAR5_THRESH = {FCST_GRID_STAT_VAR1_THRESH}

FCST_GRID_STAT_VAR6_NAME = APCP_01_A1_ENS_NMEP_ge50.8_NBRHD25_NEAREST1
FCST_GRID_STAT_VAR6_LEVELS = {FCST_GRID_STAT_VAR1_LEVELS}
FCST_GRID_STAT_VAR6_OPTIONS = {FCST_GRID_STAT_VAR1_OPTIONS}
FCST_GRID_STAT_VAR6_THRESH = {FCST_GRID_STAT_VAR1_THRESH}

FCST_GRID_STAT_VAR7_NAME = APCP_01_A1_ENS_NMEP_ge12.7_NBRHD81_NEAREST1
FCST_GRID_STAT_VAR7_LEVELS = {FCST_GRID_STAT_VAR1_LEVELS}
FCST_GRID_STAT_VAR7_OPTIONS = {FCST_GRID_STAT_VAR1_OPTIONS}
FCST_GRID_STAT_VAR7_THRESH = {FCST_GRID_STAT_VAR1_THRESH}

FCST_GRID_STAT_VAR8_NAME = APCP_01_A1_ENS_NMEP_ge25.4_NBRHD81_NEAREST1
FCST_GRID_STAT_VAR8_LEVELS = {FCST_GRID_STAT_VAR1_LEVELS}
FCST_GRID_STAT_VAR8_OPTIONS = {FCST_GRID_STAT_VAR1_OPTIONS}
FCST_GRID_STAT_VAR8_THRESH = {FCST_GRID_STAT_VAR1_THRESH}

FCST_GRID_STAT_VAR9_NAME = APCP_01_A1_ENS_NMEP_ge50.8_NBRHD81_NEAREST1
FCST_GRID_STAT_VAR9_LEVELS = {FCST_GRID_STAT_VAR1_LEVELS}
FCST_GRID_STAT_VAR9_OPTIONS = {FCST_GRID_STAT_VAR1_OPTIONS}
FCST_GRID_STAT_VAR9_THRESH = {FCST_GRID_STAT_VAR1_THRESH}

FCST_GRID_STAT_VAR10_NAME = APCP_01_A1_ENS_NMEP_ge12.7_NBRHD1_NEAREST1
FCST_GRID_STAT_VAR10_LEVELS = {FCST_GRID_STAT_VAR1_LEVELS}
FCST_GRID_STAT_VAR10_OPTIONS = prob = FALSE
FCST_GRID_STAT_VAR10_THRESH = >=0.5

FCST_GRID_STAT_VAR11_NAME = APCP_01_A1_ENS_NMEP_ge25.4_NBRHD1_NEAREST1
FCST_GRID_STAT_VAR11_LEVELS = {FCST_GRID_STAT_VAR1_LEVELS}
FCST_GRID_STAT_VAR11_OPTIONS = {FCST_GRID_STAT_VAR10_OPTIONS}
FCST_GRID_STAT_VAR11_THRESH = {FCST_GRID_STAT_VAR10_THRESH}

FCST_GRID_STAT_VAR12_NAME = APCP_01_A1_ENS_NMEP_ge50.8_NBRHD1_NEAREST1
FCST_GRID_STAT_VAR12_LEVELS = {FCST_GRID_STAT_VAR1_LEVELS}
FCST_GRID_STAT_VAR12_OPTIONS = {FCST_GRID_STAT_VAR10_OPTIONS}
FCST_GRID_STAT_VAR12_THRESH = {FCST_GRID_STAT_VAR10_THRESH}

FCST_GRID_STAT_VAR13_NAME = APCP_01_A1_ENS_NMEP_ge12.7_NBRHD25_NEAREST1
FCST_GRID_STAT_VAR13_LEVELS = {FCST_GRID_STAT_VAR1_LEVELS}
FCST_GRID_STAT_VAR13_OPTIONS = {FCST_GRID_STAT_VAR10_OPTIONS}
FCST_GRID_STAT_VAR13_THRESH = {FCST_GRID_STAT_VAR10_THRESH}

FCST_GRID_STAT_VAR14_NAME = APCP_01_A1_ENS_NMEP_ge25.4_NBRHD25_NEAREST1
FCST_GRID_STAT_VAR14_LEVELS = {FCST_GRID_STAT_VAR1_LEVELS}
FCST_GRID_STAT_VAR14_OPTIONS = {FCST_GRID_STAT_VAR10_OPTIONS}
FCST_GRID_STAT_VAR14_THRESH = {FCST_GRID_STAT_VAR10_THRESH}

FCST_GRID_STAT_VAR15_NAME = APCP_01_A1_ENS_NMEP_ge50.8_NBRHD25_NEAREST1
FCST_GRID_STAT_VAR15_LEVELS = {FCST_GRID_STAT_VAR1_LEVELS}
FCST_GRID_STAT_VAR15_OPTIONS = {FCST_GRID_STAT_VAR10_OPTIONS}
FCST_GRID_STAT_VAR15_THRESH = {FCST_GRID_STAT_VAR10_THRESH}

FCST_GRID_STAT_VAR16_NAME = APCP_01_A1_ENS_NMEP_ge12.7_NBRHD81_NEAREST1
FCST_GRID_STAT_VAR16_LEVELS = {FCST_GRID_STAT_VAR1_LEVELS}
FCST_GRID_STAT_VAR16_OPTIONS = {FCST_GRID_STAT_VAR10_OPTIONS}
FCST_GRID_STAT_VAR16_THRESH = {FCST_GRID_STAT_VAR10_THRESH}

FCST_GRID_STAT_VAR17_NAME = APCP_01_A1_ENS_NMEP_ge25.4_NBRHD81_NEAREST1
FCST_GRID_STAT_VAR17_LEVELS = {FCST_GRID_STAT_VAR1_LEVELS}
FCST_GRID_STAT_VAR17_OPTIONS = {FCST_GRID_STAT_VAR10_OPTIONS}
FCST_GRID_STAT_VAR17_THRESH = {FCST_GRID_STAT_VAR10_THRESH}

FCST_GRID_STAT_VAR18_NAME = APCP_01_A1_ENS_NMEP_ge50.8_NBRHD81_NEAREST1
FCST_GRID_STAT_VAR18_LEVELS = {FCST_GRID_STAT_VAR1_LEVELS}
FCST_GRID_STAT_VAR18_OPTIONS = {FCST_GRID_STAT_VAR10_OPTIONS}
FCST_GRID_STAT_VAR18_THRESH = {FCST_GRID_STAT_VAR10_THRESH}

OBS_GRID_STAT_VAR1_NAME = GaugeCorrQPE01H_01
OBS_GRID_STAT_VAR1_LEVELS = "(*,*)"
OBS_GRID_STAT_VAR1_THRESH = >=12.7

OBS_GRID_STAT_VAR2_NAME = GaugeCorrQPE01H_01
OBS_GRID_STAT_VAR2_LEVELS = {OBS_GRID_STAT_VAR1_LEVELS}
OBS_GRID_STAT_VAR2_THRESH = >=25.4

OBS_GRID_STAT_VAR3_NAME = GaugeCorrQPE01H_01
OBS_GRID_STAT_VAR3_LEVELS = {OBS_GRID_STAT_VAR1_LEVELS}
OBS_GRID_STAT_VAR3_THRESH = >=50.8

OBS_GRID_STAT_VAR4_NAME = GaugeCorrQPE01H_01
OBS_GRID_STAT_VAR4_LEVELS = {OBS_GRID_STAT_VAR1_LEVELS}
OBS_GRID_STAT_VAR4_THRESH = >=12.7

OBS_GRID_STAT_VAR5_NAME = GaugeCorrQPE01H_01
OBS_GRID_STAT_VAR5_LEVELS = {OBS_GRID_STAT_VAR1_LEVELS}
OBS_GRID_STAT_VAR5_THRESH = >=25.4

OBS_GRID_STAT_VAR6_NAME = GaugeCorrQPE01H_01
OBS_GRID_STAT_VAR6_LEVELS = {OBS_GRID_STAT_VAR1_LEVELS}
OBS_GRID_STAT_VAR6_THRESH = >=50.8

OBS_GRID_STAT_VAR7_NAME = GaugeCorrQPE01H_01
OBS_GRID_STAT_VAR7_LEVELS = {OBS_GRID_STAT_VAR1_LEVELS}
OBS_GRID_STAT_VAR7_THRESH = >=12.7

OBS_GRID_STAT_VAR8_NAME = GaugeCorrQPE01H_01
OBS_GRID_STAT_VAR8_LEVELS = {OBS_GRID_STAT_VAR1_LEVELS}
OBS_GRID_STAT_VAR8_THRESH = >=25.4

OBS_GRID_STAT_VAR9_NAME = GaugeCorrQPE01H_01
OBS_GRID_STAT_VAR9_LEVELS = {OBS_GRID_STAT_VAR1_LEVELS}
OBS_GRID_STAT_VAR9_THRESH = >=50.8

OBS_GRID_STAT_VAR10_NAME = GaugeCorrQPE01H_01
OBS_GRID_STAT_VAR10_LEVELS = {OBS_GRID_STAT_VAR1_LEVELS}
OBS_GRID_STAT_VAR10_THRESH = >=12.7

OBS_GRID_STAT_VAR11_NAME = GaugeCorrQPE01H_01
OBS_GRID_STAT_VAR11_LEVELS = {OBS_GRID_STAT_VAR1_LEVELS}
OBS_GRID_STAT_VAR11_THRESH = >=25.4

OBS_GRID_STAT_VAR12_NAME = GaugeCorrQPE01H_01
OBS_GRID_STAT_VAR12_LEVELS = {OBS_GRID_STAT_VAR1_LEVELS}
OBS_GRID_STAT_VAR12_THRESH = >=50.8

OBS_GRID_STAT_VAR13_NAME = GaugeCorrQPE01H_01
OBS_GRID_STAT_VAR13_LEVELS = {OBS_GRID_STAT_VAR1_LEVELS}
OBS_GRID_STAT_VAR13_THRESH = >=12.7

OBS_GRID_STAT_VAR14_NAME = GaugeCorrQPE01H_01
OBS_GRID_STAT_VAR14_LEVELS = {OBS_GRID_STAT_VAR1_LEVELS}
OBS_GRID_STAT_VAR14_THRESH = >=25.4

OBS_GRID_STAT_VAR15_NAME = GaugeCorrQPE01H_01
OBS_GRID_STAT_VAR15_LEVELS = {OBS_GRID_STAT_VAR1_LEVELS}
OBS_GRID_STAT_VAR15_THRESH = >=50.8

OBS_GRID_STAT_VAR16_NAME = GaugeCorrQPE01H_01
OBS_GRID_STAT_VAR16_LEVELS = {OBS_GRID_STAT_VAR1_LEVELS}
OBS_GRID_STAT_VAR16_THRESH = >=12.7

OBS_GRID_STAT_VAR17_NAME = GaugeCorrQPE01H_01
OBS_GRID_STAT_VAR17_LEVELS = {OBS_GRID_STAT_VAR1_LEVELS}
OBS_GRID_STAT_VAR17_THRESH = >=25.4

OBS_GRID_STAT_VAR18_NAME = GaugeCorrQPE01H_01
OBS_GRID_STAT_VAR18_LEVELS = {OBS_GRID_STAT_VAR1_LEVELS}
OBS_GRID_STAT_VAR18_THRESH = >=50.8


###
# PcpCombine Settings
# https://metplus.readthedocs.io/en/latest/Users_Guide/wrappers.html#pcpcombine
###

FCST_PCP_COMBINE_RUN = TRUE
FCST_PCP_COMBINE_INPUT_DATATYPE = GRIB
FCST_PCP_COMBINE_METHOD = USER_DEFINED
FCST_PCP_COMBINE_BUCKET_INTERVAL = 1
FCST_PCP_COMBINE_INPUT_DATATYPE = GRIB
FCST_PCP_COMBINE_FIELD_NAME = APCP
FCST_PCP_COMBINE_INPUT_ACCUMS = 1

PCP_COMBINE_SKIP_IF_OUTPUT_EXISTS = TRUE

PCP_COMBINE_CUSTOM_LOOP_LIST = 01, 02, 03, 04, 05, 06, 07, 08, 09, 10, 11, 12, 13, 14, 15, 16, 17, 18

FCST_PCP_COMBINE_COMMAND = -sum 00000000_000000 1 {valid?fmt=%Y%m%d}_{valid?fmt=%H%M}00 1 -pcpdir {FCST_PCP_COMBINE_INPUT_DIR}/{FCST_PCP_COMBINE_INPUT_TEMPLATE} -pcprx wofs -field 'name="APCP";level="A1";'


###
# GenEnsProd Settings
# https://metplus.readthedocs.io/en/latest/Users_Guide/wrappers.html#genensprod
###


GEN_ENS_PROD_N_MEMBERS = 18

GEN_ENS_PROD_ENS_THRESH = 1.0

GEN_ENS_PROD_REGRID_TO_GRID = FCST
GEN_ENS_PROD_REGRID_METHOD = BUDGET
GEN_ENS_PROD_REGRID_WIDTH = 2
GEN_ENS_PROD_REGRID_VLD_THRESH = 1.0

GEN_ENS_PROD_NBRHD_PROB_WIDTH = 1, 3, 5, 7, 9
GEN_ENS_PROD_NBRHD_PROB_SHAPE = SQUARE
GEN_ENS_PROD_NBRHD_PROB_VLD_THRESH = 1.0

GEN_ENS_PROD_NMEP_SMOOTH_VLD_THRESH = 1.0
GEN_ENS_PROD_NMEP_SMOOTH_SHAPE = SQUARE
GEN_ENS_PROD_NMEP_SMOOTH_METHOD = NEAREST
GEN_ENS_PROD_NMEP_SMOOTH_WIDTH = 1

#GEN_ENS_PROD_INPUT_GRID_DATATYPE = NETCDF

GEN_ENS_PROD_ENSEMBLE_FLAG_LATLON = TRUE
GEN_ENS_PROD_ENSEMBLE_FLAG_MEAN = TRUE
GEN_ENS_PROD_ENSEMBLE_FLAG_STDEV = FALSE
GEN_ENS_PROD_ENSEMBLE_FLAG_MINUS = FALSE
GEN_ENS_PROD_ENSEMBLE_FLAG_PLUS = FALSE
GEN_ENS_PROD_ENSEMBLE_FLAG_MIN = FALSE
GEN_ENS_PROD_ENSEMBLE_FLAG_MAX = FALSE
GEN_ENS_PROD_ENSEMBLE_FLAG_RANGE = FALSE
GEN_ENS_PROD_ENSEMBLE_FLAG_VLD_COUNT = TRUE
GEN_ENS_PROD_ENSEMBLE_FLAG_FREQUENCY = FALSE
GEN_ENS_PROD_ENSEMBLE_FLAG_NEP = FALSE
GEN_ENS_PROD_ENSEMBLE_FLAG_NMEP = TRUE

###
# EnsembleStat Settings
# https://metplus.readthedocs.io/en/latest/Users_Guide/wrappers.html#ensemblestat
###

ENSEMBLE_STAT_N_MEMBERS = 18

ENSEMBLE_STAT_ENS_THRESH = 1.0

ENSEMBLE_STAT_REGRID_TO_GRID = FCST
ENSEMBLE_STAT_REGRID_METHOD = BUDGET
ENSEMBLE_STAT_REGRID_WIDTH = 2
ENSEMBLE_STAT_REGRID_VLD_THRESH = 1.0

FCST_ENSEMBLE_STAT_INPUT_GRID_DATATYPE = NETCDF
OBS_ENSEMBLE_STAT_INPUT_GRID_DATATYPE = NETCDF


ENSEMBLE_STAT_MESSAGE_TYPE =

ENSEMBLE_STAT_OUTPUT_FLAG_ECNT = STAT
ENSEMBLE_STAT_OUTPUT_FLAG_RPS = NONE
ENSEMBLE_STAT_OUTPUT_FLAG_RHIST = STAT
ENSEMBLE_STAT_OUTPUT_FLAG_PHIST = STAT
ENSEMBLE_STAT_OUTPUT_FLAG_ORANK = STAT
ENSEMBLE_STAT_OUTPUT_FLAG_SSVAR = STAT
ENSEMBLE_STAT_OUTPUT_FLAG_RELP = STAT

ENSEMBLE_STAT_NC_ORANK_FLAG_LATLON = TRUE
ENSEMBLE_STAT_NC_ORANK_FLAG_MEAN = TRUE
ENSEMBLE_STAT_NC_ORANK_FLAG_RAW = FALSE
ENSEMBLE_STAT_NC_ORANK_FLAG_RANK = TRUE
ENSEMBLE_STAT_NC_ORANK_FLAG_PIT = TRUE
ENSEMBLE_STAT_NC_ORANK_FLAG_VLD_COUNT = FALSE
ENSEMBLE_STAT_NC_ORANK_FLAG_WEIGHT = FALSE

ENSEMBLE_STAT_OUTPUT_PREFIX = {MODEL}_PCP_{init?fmt=%H%M}_{lead?fmt=%H%M}00L_A1


###
# GridStat Settings
# https://metplus.readthedocs.io/en/latest/Users_Guide/wrappers.html#gridstat
###

GRID_STAT_REGRID_TO_GRID = FCST

FCST_GRID_STAT_INPUT_GRID_DATATYPE = NETCDF
OBS_GRID_STAT_INPUT_GRID_DATATYPE = NETCDF
GRID_STAT_NEIGHBORHOOD_SHAPE = SQUARE
GRID_STAT_NEIGHBORHOOD_WIDTH = 1, 3, 5

GRID_STAT_OUTPUT_PREFIX = {MODEL}_PCP_{init?fmt=%H%M}_A1
